<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.tcp.mapper.TPileStationMapper">
	<sql id="column">
		t.station_id stationId, 
		t.name name, 
		t.address address, 
		t.city city, 
		t.quick_charge quickCharge, 
		t.slow_charge slowCharge, 
		t.parking_pay parkingPay, 
		t.template_pay templatePay, 
		t.status status, 
		t.linkman linkman, 
		t.link_phone linkPhone, 
		t.build_status buildStatus, 
		t.audit_status auditStatus 
	</sql>

	<!-- 根据map参数条件来查询 author:code_generator -->
	<select id="getList" parameterType="java.util.Map" resultType="com.tcp.bean.TPileStation">
		SELECT
			<include refid="column"/>
		FROM t_pile_station t
		<trim prefix="WHERE" prefixOverrides="AND |OR ">
			<if test="stationId != null and stationId != '' ">
  				AND t.station_id = #{stationId} 
  			</if>
			<if test="name != null and name != '' ">
  				AND t.name = #{name} 
  			</if>
			<if test="address != null and address != '' ">
  				AND t.address = #{address} 
  			</if>
			<if test="city != null and city != '' ">
  				AND t.city = #{city} 
  			</if>
			<if test="quickCharge != null and quickCharge != '' ">
  				AND t.quick_charge = #{quickCharge} 
  			</if>
			<if test="slowCharge != null and slowCharge != '' ">
  				AND t.slow_charge = #{slowCharge} 
  			</if>
			<if test="parkingPay != null and parkingPay != '' ">
  				AND t.parking_pay = #{parkingPay} 
  			</if>
			<if test="templatePay != null and templatePay != '' ">
  				AND t.template_pay = #{templatePay} 
  			</if>
			<if test="status != null and status != '' ">
  				AND t.status = #{status} 
  			</if>
			<if test="linkman != null and linkman != '' ">
  				AND t.linkman = #{linkman} 
  			</if>
			<if test="linkPhone != null and linkPhone != '' ">
  				AND t.link_phone = #{linkPhone} 
  			</if>
			<if test="buildStatus != null and buildStatus != '' ">
  				AND t.build_status = #{buildStatus} 
  			</if>
			<if test="auditStatus != null and auditStatus != '' ">
  				AND t.audit_status = #{auditStatus} 
  			</if>
		</trim>
	</select>

<!--#############################################################################-->
<!--############################### 自定义方法实现区 ################################-->
<!--#############################################################################-->


	<select id="getStationByPileId" resultType="String">

		select s.name from t_pile p left join t_pile_station s on p.station_id = s.station_id where p.pile_num = #{pileNum}

	</select>



</mapper>
